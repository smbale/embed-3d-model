(function () { tinymce.PluginManager.requireLangPack('lao3d_personal_edition'); tinymce.create('tinymce.plugins.Lao3dPersonalEdition', { init: function (ed, url) { ed.addCommand('lao3dPersonal', function () { ed.windowManager.open({ file: url + '/dialog.php', width: 700 + ed.getLang('lao3d_personal_edition.delta_width', 0), height: 450 + ed.getLang('lao3d_personal_edition.delta_height', 0), inline: 1 }, { plugin_url: url, some_custom_arg: 'custom arg' }) }); ed.addButton('lao3d_personal_edition', { title: 'lao3d_personal_edition.desc', cmd: 'lao3dPersonal', image: url + '/lao3d-personal-edition-icon.png' }); ed.onNodeChange.add(function (ed, cm, n) { cm.setActive('lao3d_personal_edition', n.nodeName == 'IMG') }) }, createControl: function (n, cm) { return null }, getInfo: function () { return { longname: "Lao3d Personal Edition", author: 'wxstorm', authorurl: 'http://www.lao3d.com/', infourl: 'http://www.lao3d.com/', version: "2.0" } } }); tinymce.PluginManager.add('lao3d_personal_edition', tinymce.plugins.Lao3dPersonalEdition) })();